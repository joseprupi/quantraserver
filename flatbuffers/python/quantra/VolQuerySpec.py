# automatically generated by the FlatBuffers compiler, do not modify

# namespace: quantra

import flatbuffers
from flatbuffers.compat import import_numpy
np = import_numpy()

class VolQuerySpec(object):
    __slots__ = ['_tab']

    @classmethod
    def GetRootAs(cls, buf, offset=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, offset)
        x = VolQuerySpec()
        x.Init(buf, n + offset)
        return x

    @classmethod
    def GetRootAsVolQuerySpec(cls, buf, offset=0):
        """This method is deprecated. Please switch to GetRootAs."""
        return cls.GetRootAs(buf, offset)
    # VolQuerySpec
    def Init(self, buf, pos):
        self._tab = flatbuffers.table.Table(buf, pos)

    # VolQuerySpec
    def VolId(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # VolQuerySpec
    def SurfaceType(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # VolQuerySpec
    def ExpiryGrid(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            from quantra.DateGridSpec import DateGridSpec
            obj = DateGridSpec()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # VolQuerySpec
    def TenorGrid(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            obj = DateGridSpec()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # VolQuerySpec
    def StrikeGrid(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            from quantra.StrikeGrid import StrikeGrid
            obj = StrikeGrid()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # VolQuerySpec
    def Options(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(14))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            from quantra.QueryOptions import QueryOptions
            obj = QueryOptions()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # VolQuerySpec
    def OutputMode(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(16))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # VolQuerySpec
    def SwapIndexId(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(18))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # VolQuerySpec
    def SliceExpiryIndex(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int32Flags, o + self._tab.Pos)
        return -1

    # VolQuerySpec
    def SliceTenorIndex(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(22))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int32Flags, o + self._tab.Pos)
        return -1

    # VolQuerySpec
    def SliceStrike(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(24))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Float64Flags, o + self._tab.Pos)
        return 0.0

    # VolQuerySpec
    def SliceStrikeIsSet(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(26))
        if o != 0:
            return bool(self._tab.Get(flatbuffers.number_types.BoolFlags, o + self._tab.Pos))
        return False

    # VolQuerySpec
    def DiscountingCurveId(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(28))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # VolQuerySpec
    def ForwardingCurveId(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(30))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

def VolQuerySpecStart(builder):
    builder.StartObject(14)

def Start(builder):
    VolQuerySpecStart(builder)

def VolQuerySpecAddVolId(builder, volId):
    builder.PrependUOffsetTRelativeSlot(0, flatbuffers.number_types.UOffsetTFlags.py_type(volId), 0)

def AddVolId(builder, volId):
    VolQuerySpecAddVolId(builder, volId)

def VolQuerySpecAddSurfaceType(builder, surfaceType):
    builder.PrependInt8Slot(1, surfaceType, 0)

def AddSurfaceType(builder, surfaceType):
    VolQuerySpecAddSurfaceType(builder, surfaceType)

def VolQuerySpecAddExpiryGrid(builder, expiryGrid):
    builder.PrependUOffsetTRelativeSlot(2, flatbuffers.number_types.UOffsetTFlags.py_type(expiryGrid), 0)

def AddExpiryGrid(builder, expiryGrid):
    VolQuerySpecAddExpiryGrid(builder, expiryGrid)

def VolQuerySpecAddTenorGrid(builder, tenorGrid):
    builder.PrependUOffsetTRelativeSlot(3, flatbuffers.number_types.UOffsetTFlags.py_type(tenorGrid), 0)

def AddTenorGrid(builder, tenorGrid):
    VolQuerySpecAddTenorGrid(builder, tenorGrid)

def VolQuerySpecAddStrikeGrid(builder, strikeGrid):
    builder.PrependUOffsetTRelativeSlot(4, flatbuffers.number_types.UOffsetTFlags.py_type(strikeGrid), 0)

def AddStrikeGrid(builder, strikeGrid):
    VolQuerySpecAddStrikeGrid(builder, strikeGrid)

def VolQuerySpecAddOptions(builder, options):
    builder.PrependUOffsetTRelativeSlot(5, flatbuffers.number_types.UOffsetTFlags.py_type(options), 0)

def AddOptions(builder, options):
    VolQuerySpecAddOptions(builder, options)

def VolQuerySpecAddOutputMode(builder, outputMode):
    builder.PrependInt8Slot(6, outputMode, 0)

def AddOutputMode(builder, outputMode):
    VolQuerySpecAddOutputMode(builder, outputMode)

def VolQuerySpecAddSwapIndexId(builder, swapIndexId):
    builder.PrependUOffsetTRelativeSlot(7, flatbuffers.number_types.UOffsetTFlags.py_type(swapIndexId), 0)

def AddSwapIndexId(builder, swapIndexId):
    VolQuerySpecAddSwapIndexId(builder, swapIndexId)

def VolQuerySpecAddSliceExpiryIndex(builder, sliceExpiryIndex):
    builder.PrependInt32Slot(8, sliceExpiryIndex, -1)

def AddSliceExpiryIndex(builder, sliceExpiryIndex):
    VolQuerySpecAddSliceExpiryIndex(builder, sliceExpiryIndex)

def VolQuerySpecAddSliceTenorIndex(builder, sliceTenorIndex):
    builder.PrependInt32Slot(9, sliceTenorIndex, -1)

def AddSliceTenorIndex(builder, sliceTenorIndex):
    VolQuerySpecAddSliceTenorIndex(builder, sliceTenorIndex)

def VolQuerySpecAddSliceStrike(builder, sliceStrike):
    builder.PrependFloat64Slot(10, sliceStrike, 0.0)

def AddSliceStrike(builder, sliceStrike):
    VolQuerySpecAddSliceStrike(builder, sliceStrike)

def VolQuerySpecAddSliceStrikeIsSet(builder, sliceStrikeIsSet):
    builder.PrependBoolSlot(11, sliceStrikeIsSet, 0)

def AddSliceStrikeIsSet(builder, sliceStrikeIsSet):
    VolQuerySpecAddSliceStrikeIsSet(builder, sliceStrikeIsSet)

def VolQuerySpecAddDiscountingCurveId(builder, discountingCurveId):
    builder.PrependUOffsetTRelativeSlot(12, flatbuffers.number_types.UOffsetTFlags.py_type(discountingCurveId), 0)

def AddDiscountingCurveId(builder, discountingCurveId):
    VolQuerySpecAddDiscountingCurveId(builder, discountingCurveId)

def VolQuerySpecAddForwardingCurveId(builder, forwardingCurveId):
    builder.PrependUOffsetTRelativeSlot(13, flatbuffers.number_types.UOffsetTFlags.py_type(forwardingCurveId), 0)

def AddForwardingCurveId(builder, forwardingCurveId):
    VolQuerySpecAddForwardingCurveId(builder, forwardingCurveId)

def VolQuerySpecEnd(builder):
    return builder.EndObject()

def End(builder):
    return VolQuerySpecEnd(builder)

try:
    from typing import Optional
except:
    pass

class VolQuerySpecT(object):

    # VolQuerySpecT
    def __init__(self):
        self.volId = None  # type: str
        self.surfaceType = 0  # type: int
        self.expiryGrid = None  # type: Optional[DateGridSpecT]
        self.tenorGrid = None  # type: Optional[DateGridSpecT]
        self.strikeGrid = None  # type: Optional[StrikeGridT]
        self.options = None  # type: Optional[QueryOptionsT]
        self.outputMode = 0  # type: int
        self.swapIndexId = None  # type: str
        self.sliceExpiryIndex = -1  # type: int
        self.sliceTenorIndex = -1  # type: int
        self.sliceStrike = 0.0  # type: float
        self.sliceStrikeIsSet = False  # type: bool
        self.discountingCurveId = None  # type: str
        self.forwardingCurveId = None  # type: str

    @classmethod
    def InitFromBuf(cls, buf, pos):
        volQuerySpec = VolQuerySpec()
        volQuerySpec.Init(buf, pos)
        return cls.InitFromObj(volQuerySpec)

    @classmethod
    def InitFromPackedBuf(cls, buf, pos=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, pos)
        return cls.InitFromBuf(buf, pos+n)

    @classmethod
    def InitFromObj(cls, volQuerySpec):
        x = VolQuerySpecT()
        x._UnPack(volQuerySpec)
        return x

    # VolQuerySpecT
    def _UnPack(self, volQuerySpec):
        if volQuerySpec is None:
            return
        self.volId = volQuerySpec.VolId()
        self.surfaceType = volQuerySpec.SurfaceType()
        if volQuerySpec.ExpiryGrid() is not None:
            self.expiryGrid = DateGridSpecT.InitFromObj(volQuerySpec.ExpiryGrid())
        if volQuerySpec.TenorGrid() is not None:
            self.tenorGrid = DateGridSpecT.InitFromObj(volQuerySpec.TenorGrid())
        if volQuerySpec.StrikeGrid() is not None:
            self.strikeGrid = StrikeGridT.InitFromObj(volQuerySpec.StrikeGrid())
        if volQuerySpec.Options() is not None:
            self.options = QueryOptionsT.InitFromObj(volQuerySpec.Options())
        self.outputMode = volQuerySpec.OutputMode()
        self.swapIndexId = volQuerySpec.SwapIndexId()
        self.sliceExpiryIndex = volQuerySpec.SliceExpiryIndex()
        self.sliceTenorIndex = volQuerySpec.SliceTenorIndex()
        self.sliceStrike = volQuerySpec.SliceStrike()
        self.sliceStrikeIsSet = volQuerySpec.SliceStrikeIsSet()
        self.discountingCurveId = volQuerySpec.DiscountingCurveId()
        self.forwardingCurveId = volQuerySpec.ForwardingCurveId()

    # VolQuerySpecT
    def Pack(self, builder):
        if self.volId is not None:
            volId = builder.CreateString(self.volId)
        if self.expiryGrid is not None:
            expiryGrid = self.expiryGrid.Pack(builder)
        if self.tenorGrid is not None:
            tenorGrid = self.tenorGrid.Pack(builder)
        if self.strikeGrid is not None:
            strikeGrid = self.strikeGrid.Pack(builder)
        if self.options is not None:
            options = self.options.Pack(builder)
        if self.swapIndexId is not None:
            swapIndexId = builder.CreateString(self.swapIndexId)
        if self.discountingCurveId is not None:
            discountingCurveId = builder.CreateString(self.discountingCurveId)
        if self.forwardingCurveId is not None:
            forwardingCurveId = builder.CreateString(self.forwardingCurveId)
        VolQuerySpecStart(builder)
        if self.volId is not None:
            VolQuerySpecAddVolId(builder, volId)
        VolQuerySpecAddSurfaceType(builder, self.surfaceType)
        if self.expiryGrid is not None:
            VolQuerySpecAddExpiryGrid(builder, expiryGrid)
        if self.tenorGrid is not None:
            VolQuerySpecAddTenorGrid(builder, tenorGrid)
        if self.strikeGrid is not None:
            VolQuerySpecAddStrikeGrid(builder, strikeGrid)
        if self.options is not None:
            VolQuerySpecAddOptions(builder, options)
        VolQuerySpecAddOutputMode(builder, self.outputMode)
        if self.swapIndexId is not None:
            VolQuerySpecAddSwapIndexId(builder, swapIndexId)
        VolQuerySpecAddSliceExpiryIndex(builder, self.sliceExpiryIndex)
        VolQuerySpecAddSliceTenorIndex(builder, self.sliceTenorIndex)
        VolQuerySpecAddSliceStrike(builder, self.sliceStrike)
        VolQuerySpecAddSliceStrikeIsSet(builder, self.sliceStrikeIsSet)
        if self.discountingCurveId is not None:
            VolQuerySpecAddDiscountingCurveId(builder, discountingCurveId)
        if self.forwardingCurveId is not None:
            VolQuerySpecAddForwardingCurveId(builder, forwardingCurveId)
        volQuerySpec = VolQuerySpecEnd(builder)
        return volQuerySpec
