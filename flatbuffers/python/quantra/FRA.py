# automatically generated by the FlatBuffers compiler, do not modify

# namespace: quantra

import flatbuffers
from flatbuffers.compat import import_numpy
np = import_numpy()

class FRA(object):
    __slots__ = ['_tab']

    @classmethod
    def GetRootAs(cls, buf, offset=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, offset)
        x = FRA()
        x.Init(buf, n + offset)
        return x

    @classmethod
    def GetRootAsFRA(cls, buf, offset=0):
        """This method is deprecated. Please switch to GetRootAs."""
        return cls.GetRootAs(buf, offset)
    # FRA
    def Init(self, buf, pos):
        self._tab = flatbuffers.table.Table(buf, pos)

    # FRA
    def FraType(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # FRA
    def Notional(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Float64Flags, o + self._tab.Pos)
        return 0.0

    # FRA
    def StartDate(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # FRA
    def MaturityDate(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # FRA
    def Strike(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Float64Flags, o + self._tab.Pos)
        return 0.0

    # FRA
    def Index(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(14))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            from quantra.Index import Index
            obj = Index()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # FRA
    def DayCounter(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(16))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # FRA
    def Calendar(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(18))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # FRA
    def BusinessDayConvention(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

def FRAStart(builder):
    builder.StartObject(9)

def Start(builder):
    FRAStart(builder)

def FRAAddFraType(builder, fraType):
    builder.PrependInt8Slot(0, fraType, 0)

def AddFraType(builder, fraType):
    FRAAddFraType(builder, fraType)

def FRAAddNotional(builder, notional):
    builder.PrependFloat64Slot(1, notional, 0.0)

def AddNotional(builder, notional):
    FRAAddNotional(builder, notional)

def FRAAddStartDate(builder, startDate):
    builder.PrependUOffsetTRelativeSlot(2, flatbuffers.number_types.UOffsetTFlags.py_type(startDate), 0)

def AddStartDate(builder, startDate):
    FRAAddStartDate(builder, startDate)

def FRAAddMaturityDate(builder, maturityDate):
    builder.PrependUOffsetTRelativeSlot(3, flatbuffers.number_types.UOffsetTFlags.py_type(maturityDate), 0)

def AddMaturityDate(builder, maturityDate):
    FRAAddMaturityDate(builder, maturityDate)

def FRAAddStrike(builder, strike):
    builder.PrependFloat64Slot(4, strike, 0.0)

def AddStrike(builder, strike):
    FRAAddStrike(builder, strike)

def FRAAddIndex(builder, index):
    builder.PrependUOffsetTRelativeSlot(5, flatbuffers.number_types.UOffsetTFlags.py_type(index), 0)

def AddIndex(builder, index):
    FRAAddIndex(builder, index)

def FRAAddDayCounter(builder, dayCounter):
    builder.PrependInt8Slot(6, dayCounter, 0)

def AddDayCounter(builder, dayCounter):
    FRAAddDayCounter(builder, dayCounter)

def FRAAddCalendar(builder, calendar):
    builder.PrependInt8Slot(7, calendar, 0)

def AddCalendar(builder, calendar):
    FRAAddCalendar(builder, calendar)

def FRAAddBusinessDayConvention(builder, businessDayConvention):
    builder.PrependInt8Slot(8, businessDayConvention, 0)

def AddBusinessDayConvention(builder, businessDayConvention):
    FRAAddBusinessDayConvention(builder, businessDayConvention)

def FRAEnd(builder):
    return builder.EndObject()

def End(builder):
    return FRAEnd(builder)

try:
    from typing import Optional
except:
    pass

class FRAT(object):

    # FRAT
    def __init__(self):
        self.fraType = 0  # type: int
        self.notional = 0.0  # type: float
        self.startDate = None  # type: str
        self.maturityDate = None  # type: str
        self.strike = 0.0  # type: float
        self.index = None  # type: Optional[IndexT]
        self.dayCounter = 0  # type: int
        self.calendar = 0  # type: int
        self.businessDayConvention = 0  # type: int

    @classmethod
    def InitFromBuf(cls, buf, pos):
        fra = FRA()
        fra.Init(buf, pos)
        return cls.InitFromObj(fra)

    @classmethod
    def InitFromPackedBuf(cls, buf, pos=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, pos)
        return cls.InitFromBuf(buf, pos+n)

    @classmethod
    def InitFromObj(cls, fra):
        x = FRAT()
        x._UnPack(fra)
        return x

    # FRAT
    def _UnPack(self, fra):
        if fra is None:
            return
        self.fraType = fra.FraType()
        self.notional = fra.Notional()
        self.startDate = fra.StartDate()
        self.maturityDate = fra.MaturityDate()
        self.strike = fra.Strike()
        if fra.Index() is not None:
            self.index = IndexT.InitFromObj(fra.Index())
        self.dayCounter = fra.DayCounter()
        self.calendar = fra.Calendar()
        self.businessDayConvention = fra.BusinessDayConvention()

    # FRAT
    def Pack(self, builder):
        if self.startDate is not None:
            startDate = builder.CreateString(self.startDate)
        if self.maturityDate is not None:
            maturityDate = builder.CreateString(self.maturityDate)
        if self.index is not None:
            index = self.index.Pack(builder)
        FRAStart(builder)
        FRAAddFraType(builder, self.fraType)
        FRAAddNotional(builder, self.notional)
        if self.startDate is not None:
            FRAAddStartDate(builder, startDate)
        if self.maturityDate is not None:
            FRAAddMaturityDate(builder, maturityDate)
        FRAAddStrike(builder, self.strike)
        if self.index is not None:
            FRAAddIndex(builder, index)
        FRAAddDayCounter(builder, self.dayCounter)
        FRAAddCalendar(builder, self.calendar)
        FRAAddBusinessDayConvention(builder, self.businessDayConvention)
        fra = FRAEnd(builder)
        return fra
