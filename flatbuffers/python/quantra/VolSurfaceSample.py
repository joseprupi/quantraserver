# automatically generated by the FlatBuffers compiler, do not modify

# namespace: quantra

import flatbuffers
from flatbuffers.compat import import_numpy
np = import_numpy()

class VolSurfaceSample(object):
    __slots__ = ['_tab']

    @classmethod
    def GetRootAs(cls, buf, offset=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, offset)
        x = VolSurfaceSample()
        x.Init(buf, n + offset)
        return x

    @classmethod
    def GetRootAsVolSurfaceSample(cls, buf, offset=0):
        """This method is deprecated. Please switch to GetRootAs."""
        return cls.GetRootAs(buf, offset)
    # VolSurfaceSample
    def Init(self, buf, pos):
        self._tab = flatbuffers.table.Table(buf, pos)

    # VolSurfaceSample
    def VolId(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # VolSurfaceSample
    def ReferenceDate(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # VolSurfaceSample
    def QlVolType(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # VolSurfaceSample
    def RequestedStrikeAxis(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # VolSurfaceSample
    def CanonicalStrikeKind(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # VolSurfaceSample
    def AllowExtrapolationUsed(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(14))
        if o != 0:
            return bool(self._tab.Get(flatbuffers.number_types.BoolFlags, o + self._tab.Pos))
        return False

    # VolSurfaceSample
    def CalendarUsed(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(16))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # VolSurfaceSample
    def BusinessDayConventionUsed(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(18))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 0

    # VolSurfaceSample
    def ExpiryKind(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(20))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int8Flags, o + self._tab.Pos)
        return 1

    # VolSurfaceSample
    def Expiries(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(22))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.String(a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 4))
        return ""

    # VolSurfaceSample
    def ExpiriesLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(22))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # VolSurfaceSample
    def ExpiriesIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(22))
        return o == 0

    # VolSurfaceSample
    def RequestedExpiryGridPoints(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(24))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.String(a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 4))
        return ""

    # VolSurfaceSample
    def RequestedExpiryGridPointsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(24))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # VolSurfaceSample
    def RequestedExpiryGridPointsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(24))
        return o == 0

    # VolSurfaceSample
    def Tenors(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(26))
        if o != 0:
            x = self._tab.Vector(o)
            x += flatbuffers.number_types.UOffsetTFlags.py_type(j) * 4
            x = self._tab.Indirect(x)
            from quantra.Period import Period
            obj = Period()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

    # VolSurfaceSample
    def TenorsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(26))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # VolSurfaceSample
    def TenorsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(26))
        return o == 0

    # VolSurfaceSample
    def EffectiveSwapStarts(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(28))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.String(a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 4))
        return ""

    # VolSurfaceSample
    def EffectiveSwapStartsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(28))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # VolSurfaceSample
    def EffectiveSwapStartsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(28))
        return o == 0

    # VolSurfaceSample
    def EffectiveSwapEnds(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(30))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.String(a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 4))
        return ""

    # VolSurfaceSample
    def EffectiveSwapEndsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(30))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # VolSurfaceSample
    def EffectiveSwapEndsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(30))
        return o == 0

    # VolSurfaceSample
    def Strikes(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(32))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.Get(flatbuffers.number_types.Float64Flags, a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 8))
        return 0

    # VolSurfaceSample
    def StrikesAsNumpy(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(32))
        if o != 0:
            return self._tab.GetVectorAsNumpy(flatbuffers.number_types.Float64Flags, o)
        return 0

    # VolSurfaceSample
    def StrikesLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(32))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # VolSurfaceSample
    def StrikesIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(32))
        return o == 0

    # VolSurfaceSample
    def Vols(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(34))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.Get(flatbuffers.number_types.Float64Flags, a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 8))
        return 0

    # VolSurfaceSample
    def VolsAsNumpy(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(34))
        if o != 0:
            return self._tab.GetVectorAsNumpy(flatbuffers.number_types.Float64Flags, o)
        return 0

    # VolSurfaceSample
    def VolsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(34))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # VolSurfaceSample
    def VolsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(34))
        return o == 0

    # VolSurfaceSample
    def NExpiries(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(36))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int32Flags, o + self._tab.Pos)
        return 0

    # VolSurfaceSample
    def NTenors(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(38))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int32Flags, o + self._tab.Pos)
        return 0

    # VolSurfaceSample
    def NStrikes(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(40))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Int32Flags, o + self._tab.Pos)
        return 0

    # VolSurfaceSample
    def AtmLevels(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(42))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.Get(flatbuffers.number_types.Float64Flags, a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 8))
        return 0

    # VolSurfaceSample
    def AtmLevelsAsNumpy(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(42))
        if o != 0:
            return self._tab.GetVectorAsNumpy(flatbuffers.number_types.Float64Flags, o)
        return 0

    # VolSurfaceSample
    def AtmLevelsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(42))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # VolSurfaceSample
    def AtmLevelsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(42))
        return o == 0

    # VolSurfaceSample
    def Error(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(44))
        if o != 0:
            x = self._tab.Indirect(o + self._tab.Pos)
            from quantra.Error import Error
            obj = Error()
            obj.Init(self._tab.Bytes, x)
            return obj
        return None

def VolSurfaceSampleStart(builder):
    builder.StartObject(21)

def Start(builder):
    VolSurfaceSampleStart(builder)

def VolSurfaceSampleAddVolId(builder, volId):
    builder.PrependUOffsetTRelativeSlot(0, flatbuffers.number_types.UOffsetTFlags.py_type(volId), 0)

def AddVolId(builder, volId):
    VolSurfaceSampleAddVolId(builder, volId)

def VolSurfaceSampleAddReferenceDate(builder, referenceDate):
    builder.PrependUOffsetTRelativeSlot(1, flatbuffers.number_types.UOffsetTFlags.py_type(referenceDate), 0)

def AddReferenceDate(builder, referenceDate):
    VolSurfaceSampleAddReferenceDate(builder, referenceDate)

def VolSurfaceSampleAddQlVolType(builder, qlVolType):
    builder.PrependInt8Slot(2, qlVolType, 0)

def AddQlVolType(builder, qlVolType):
    VolSurfaceSampleAddQlVolType(builder, qlVolType)

def VolSurfaceSampleAddRequestedStrikeAxis(builder, requestedStrikeAxis):
    builder.PrependInt8Slot(3, requestedStrikeAxis, 0)

def AddRequestedStrikeAxis(builder, requestedStrikeAxis):
    VolSurfaceSampleAddRequestedStrikeAxis(builder, requestedStrikeAxis)

def VolSurfaceSampleAddCanonicalStrikeKind(builder, canonicalStrikeKind):
    builder.PrependInt8Slot(4, canonicalStrikeKind, 0)

def AddCanonicalStrikeKind(builder, canonicalStrikeKind):
    VolSurfaceSampleAddCanonicalStrikeKind(builder, canonicalStrikeKind)

def VolSurfaceSampleAddAllowExtrapolationUsed(builder, allowExtrapolationUsed):
    builder.PrependBoolSlot(5, allowExtrapolationUsed, 0)

def AddAllowExtrapolationUsed(builder, allowExtrapolationUsed):
    VolSurfaceSampleAddAllowExtrapolationUsed(builder, allowExtrapolationUsed)

def VolSurfaceSampleAddCalendarUsed(builder, calendarUsed):
    builder.PrependInt8Slot(6, calendarUsed, 0)

def AddCalendarUsed(builder, calendarUsed):
    VolSurfaceSampleAddCalendarUsed(builder, calendarUsed)

def VolSurfaceSampleAddBusinessDayConventionUsed(builder, businessDayConventionUsed):
    builder.PrependInt8Slot(7, businessDayConventionUsed, 0)

def AddBusinessDayConventionUsed(builder, businessDayConventionUsed):
    VolSurfaceSampleAddBusinessDayConventionUsed(builder, businessDayConventionUsed)

def VolSurfaceSampleAddExpiryKind(builder, expiryKind):
    builder.PrependInt8Slot(8, expiryKind, 1)

def AddExpiryKind(builder, expiryKind):
    VolSurfaceSampleAddExpiryKind(builder, expiryKind)

def VolSurfaceSampleAddExpiries(builder, expiries):
    builder.PrependUOffsetTRelativeSlot(9, flatbuffers.number_types.UOffsetTFlags.py_type(expiries), 0)

def AddExpiries(builder, expiries):
    VolSurfaceSampleAddExpiries(builder, expiries)

def VolSurfaceSampleStartExpiriesVector(builder, numElems):
    return builder.StartVector(4, numElems, 4)

def StartExpiriesVector(builder, numElems):
    return VolSurfaceSampleStartExpiriesVector(builder, numElems)

def VolSurfaceSampleAddRequestedExpiryGridPoints(builder, requestedExpiryGridPoints):
    builder.PrependUOffsetTRelativeSlot(10, flatbuffers.number_types.UOffsetTFlags.py_type(requestedExpiryGridPoints), 0)

def AddRequestedExpiryGridPoints(builder, requestedExpiryGridPoints):
    VolSurfaceSampleAddRequestedExpiryGridPoints(builder, requestedExpiryGridPoints)

def VolSurfaceSampleStartRequestedExpiryGridPointsVector(builder, numElems):
    return builder.StartVector(4, numElems, 4)

def StartRequestedExpiryGridPointsVector(builder, numElems):
    return VolSurfaceSampleStartRequestedExpiryGridPointsVector(builder, numElems)

def VolSurfaceSampleAddTenors(builder, tenors):
    builder.PrependUOffsetTRelativeSlot(11, flatbuffers.number_types.UOffsetTFlags.py_type(tenors), 0)

def AddTenors(builder, tenors):
    VolSurfaceSampleAddTenors(builder, tenors)

def VolSurfaceSampleStartTenorsVector(builder, numElems):
    return builder.StartVector(4, numElems, 4)

def StartTenorsVector(builder, numElems):
    return VolSurfaceSampleStartTenorsVector(builder, numElems)

def VolSurfaceSampleAddEffectiveSwapStarts(builder, effectiveSwapStarts):
    builder.PrependUOffsetTRelativeSlot(12, flatbuffers.number_types.UOffsetTFlags.py_type(effectiveSwapStarts), 0)

def AddEffectiveSwapStarts(builder, effectiveSwapStarts):
    VolSurfaceSampleAddEffectiveSwapStarts(builder, effectiveSwapStarts)

def VolSurfaceSampleStartEffectiveSwapStartsVector(builder, numElems):
    return builder.StartVector(4, numElems, 4)

def StartEffectiveSwapStartsVector(builder, numElems):
    return VolSurfaceSampleStartEffectiveSwapStartsVector(builder, numElems)

def VolSurfaceSampleAddEffectiveSwapEnds(builder, effectiveSwapEnds):
    builder.PrependUOffsetTRelativeSlot(13, flatbuffers.number_types.UOffsetTFlags.py_type(effectiveSwapEnds), 0)

def AddEffectiveSwapEnds(builder, effectiveSwapEnds):
    VolSurfaceSampleAddEffectiveSwapEnds(builder, effectiveSwapEnds)

def VolSurfaceSampleStartEffectiveSwapEndsVector(builder, numElems):
    return builder.StartVector(4, numElems, 4)

def StartEffectiveSwapEndsVector(builder, numElems):
    return VolSurfaceSampleStartEffectiveSwapEndsVector(builder, numElems)

def VolSurfaceSampleAddStrikes(builder, strikes):
    builder.PrependUOffsetTRelativeSlot(14, flatbuffers.number_types.UOffsetTFlags.py_type(strikes), 0)

def AddStrikes(builder, strikes):
    VolSurfaceSampleAddStrikes(builder, strikes)

def VolSurfaceSampleStartStrikesVector(builder, numElems):
    return builder.StartVector(8, numElems, 8)

def StartStrikesVector(builder, numElems):
    return VolSurfaceSampleStartStrikesVector(builder, numElems)

def VolSurfaceSampleAddVols(builder, vols):
    builder.PrependUOffsetTRelativeSlot(15, flatbuffers.number_types.UOffsetTFlags.py_type(vols), 0)

def AddVols(builder, vols):
    VolSurfaceSampleAddVols(builder, vols)

def VolSurfaceSampleStartVolsVector(builder, numElems):
    return builder.StartVector(8, numElems, 8)

def StartVolsVector(builder, numElems):
    return VolSurfaceSampleStartVolsVector(builder, numElems)

def VolSurfaceSampleAddNExpiries(builder, nExpiries):
    builder.PrependInt32Slot(16, nExpiries, 0)

def AddNExpiries(builder, nExpiries):
    VolSurfaceSampleAddNExpiries(builder, nExpiries)

def VolSurfaceSampleAddNTenors(builder, nTenors):
    builder.PrependInt32Slot(17, nTenors, 0)

def AddNTenors(builder, nTenors):
    VolSurfaceSampleAddNTenors(builder, nTenors)

def VolSurfaceSampleAddNStrikes(builder, nStrikes):
    builder.PrependInt32Slot(18, nStrikes, 0)

def AddNStrikes(builder, nStrikes):
    VolSurfaceSampleAddNStrikes(builder, nStrikes)

def VolSurfaceSampleAddAtmLevels(builder, atmLevels):
    builder.PrependUOffsetTRelativeSlot(19, flatbuffers.number_types.UOffsetTFlags.py_type(atmLevels), 0)

def AddAtmLevels(builder, atmLevels):
    VolSurfaceSampleAddAtmLevels(builder, atmLevels)

def VolSurfaceSampleStartAtmLevelsVector(builder, numElems):
    return builder.StartVector(8, numElems, 8)

def StartAtmLevelsVector(builder, numElems):
    return VolSurfaceSampleStartAtmLevelsVector(builder, numElems)

def VolSurfaceSampleAddError(builder, error):
    builder.PrependUOffsetTRelativeSlot(20, flatbuffers.number_types.UOffsetTFlags.py_type(error), 0)

def AddError(builder, error):
    VolSurfaceSampleAddError(builder, error)

def VolSurfaceSampleEnd(builder):
    return builder.EndObject()

def End(builder):
    return VolSurfaceSampleEnd(builder)

try:
    from typing import List, Optional
except:
    pass

class VolSurfaceSampleT(object):

    # VolSurfaceSampleT
    def __init__(self):
        self.volId = None  # type: str
        self.referenceDate = None  # type: str
        self.qlVolType = 0  # type: int
        self.requestedStrikeAxis = 0  # type: int
        self.canonicalStrikeKind = 0  # type: int
        self.allowExtrapolationUsed = False  # type: bool
        self.calendarUsed = 0  # type: int
        self.businessDayConventionUsed = 0  # type: int
        self.expiryKind = 1  # type: int
        self.expiries = None  # type: List[str]
        self.requestedExpiryGridPoints = None  # type: List[str]
        self.tenors = None  # type: List[PeriodT]
        self.effectiveSwapStarts = None  # type: List[str]
        self.effectiveSwapEnds = None  # type: List[str]
        self.strikes = None  # type: List[float]
        self.vols = None  # type: List[float]
        self.nExpiries = 0  # type: int
        self.nTenors = 0  # type: int
        self.nStrikes = 0  # type: int
        self.atmLevels = None  # type: List[float]
        self.error = None  # type: Optional[ErrorT]

    @classmethod
    def InitFromBuf(cls, buf, pos):
        volSurfaceSample = VolSurfaceSample()
        volSurfaceSample.Init(buf, pos)
        return cls.InitFromObj(volSurfaceSample)

    @classmethod
    def InitFromPackedBuf(cls, buf, pos=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, pos)
        return cls.InitFromBuf(buf, pos+n)

    @classmethod
    def InitFromObj(cls, volSurfaceSample):
        x = VolSurfaceSampleT()
        x._UnPack(volSurfaceSample)
        return x

    # VolSurfaceSampleT
    def _UnPack(self, volSurfaceSample):
        if volSurfaceSample is None:
            return
        self.volId = volSurfaceSample.VolId()
        self.referenceDate = volSurfaceSample.ReferenceDate()
        self.qlVolType = volSurfaceSample.QlVolType()
        self.requestedStrikeAxis = volSurfaceSample.RequestedStrikeAxis()
        self.canonicalStrikeKind = volSurfaceSample.CanonicalStrikeKind()
        self.allowExtrapolationUsed = volSurfaceSample.AllowExtrapolationUsed()
        self.calendarUsed = volSurfaceSample.CalendarUsed()
        self.businessDayConventionUsed = volSurfaceSample.BusinessDayConventionUsed()
        self.expiryKind = volSurfaceSample.ExpiryKind()
        if not volSurfaceSample.ExpiriesIsNone():
            self.expiries = []
            for i in range(volSurfaceSample.ExpiriesLength()):
                self.expiries.append(volSurfaceSample.Expiries(i))
        if not volSurfaceSample.RequestedExpiryGridPointsIsNone():
            self.requestedExpiryGridPoints = []
            for i in range(volSurfaceSample.RequestedExpiryGridPointsLength()):
                self.requestedExpiryGridPoints.append(volSurfaceSample.RequestedExpiryGridPoints(i))
        if not volSurfaceSample.TenorsIsNone():
            self.tenors = []
            for i in range(volSurfaceSample.TenorsLength()):
                if volSurfaceSample.Tenors(i) is None:
                    self.tenors.append(None)
                else:
                    period_ = PeriodT.InitFromObj(volSurfaceSample.Tenors(i))
                    self.tenors.append(period_)
        if not volSurfaceSample.EffectiveSwapStartsIsNone():
            self.effectiveSwapStarts = []
            for i in range(volSurfaceSample.EffectiveSwapStartsLength()):
                self.effectiveSwapStarts.append(volSurfaceSample.EffectiveSwapStarts(i))
        if not volSurfaceSample.EffectiveSwapEndsIsNone():
            self.effectiveSwapEnds = []
            for i in range(volSurfaceSample.EffectiveSwapEndsLength()):
                self.effectiveSwapEnds.append(volSurfaceSample.EffectiveSwapEnds(i))
        if not volSurfaceSample.StrikesIsNone():
            if np is None:
                self.strikes = []
                for i in range(volSurfaceSample.StrikesLength()):
                    self.strikes.append(volSurfaceSample.Strikes(i))
            else:
                self.strikes = volSurfaceSample.StrikesAsNumpy()
        if not volSurfaceSample.VolsIsNone():
            if np is None:
                self.vols = []
                for i in range(volSurfaceSample.VolsLength()):
                    self.vols.append(volSurfaceSample.Vols(i))
            else:
                self.vols = volSurfaceSample.VolsAsNumpy()
        self.nExpiries = volSurfaceSample.NExpiries()
        self.nTenors = volSurfaceSample.NTenors()
        self.nStrikes = volSurfaceSample.NStrikes()
        if not volSurfaceSample.AtmLevelsIsNone():
            if np is None:
                self.atmLevels = []
                for i in range(volSurfaceSample.AtmLevelsLength()):
                    self.atmLevels.append(volSurfaceSample.AtmLevels(i))
            else:
                self.atmLevels = volSurfaceSample.AtmLevelsAsNumpy()
        if volSurfaceSample.Error() is not None:
            self.error = ErrorT.InitFromObj(volSurfaceSample.Error())

    # VolSurfaceSampleT
    def Pack(self, builder):
        if self.volId is not None:
            volId = builder.CreateString(self.volId)
        if self.referenceDate is not None:
            referenceDate = builder.CreateString(self.referenceDate)
        if self.expiries is not None:
            expirieslist = []
            for i in range(len(self.expiries)):
                expirieslist.append(builder.CreateString(self.expiries[i]))
            VolSurfaceSampleStartExpiriesVector(builder, len(self.expiries))
            for i in reversed(range(len(self.expiries))):
                builder.PrependUOffsetTRelative(expirieslist[i])
            expiries = builder.EndVector()
        if self.requestedExpiryGridPoints is not None:
            requestedExpiryGridPointslist = []
            for i in range(len(self.requestedExpiryGridPoints)):
                requestedExpiryGridPointslist.append(builder.CreateString(self.requestedExpiryGridPoints[i]))
            VolSurfaceSampleStartRequestedExpiryGridPointsVector(builder, len(self.requestedExpiryGridPoints))
            for i in reversed(range(len(self.requestedExpiryGridPoints))):
                builder.PrependUOffsetTRelative(requestedExpiryGridPointslist[i])
            requestedExpiryGridPoints = builder.EndVector()
        if self.tenors is not None:
            tenorslist = []
            for i in range(len(self.tenors)):
                tenorslist.append(self.tenors[i].Pack(builder))
            VolSurfaceSampleStartTenorsVector(builder, len(self.tenors))
            for i in reversed(range(len(self.tenors))):
                builder.PrependUOffsetTRelative(tenorslist[i])
            tenors = builder.EndVector()
        if self.effectiveSwapStarts is not None:
            effectiveSwapStartslist = []
            for i in range(len(self.effectiveSwapStarts)):
                effectiveSwapStartslist.append(builder.CreateString(self.effectiveSwapStarts[i]))
            VolSurfaceSampleStartEffectiveSwapStartsVector(builder, len(self.effectiveSwapStarts))
            for i in reversed(range(len(self.effectiveSwapStarts))):
                builder.PrependUOffsetTRelative(effectiveSwapStartslist[i])
            effectiveSwapStarts = builder.EndVector()
        if self.effectiveSwapEnds is not None:
            effectiveSwapEndslist = []
            for i in range(len(self.effectiveSwapEnds)):
                effectiveSwapEndslist.append(builder.CreateString(self.effectiveSwapEnds[i]))
            VolSurfaceSampleStartEffectiveSwapEndsVector(builder, len(self.effectiveSwapEnds))
            for i in reversed(range(len(self.effectiveSwapEnds))):
                builder.PrependUOffsetTRelative(effectiveSwapEndslist[i])
            effectiveSwapEnds = builder.EndVector()
        if self.strikes is not None:
            if np is not None and type(self.strikes) is np.ndarray:
                strikes = builder.CreateNumpyVector(self.strikes)
            else:
                VolSurfaceSampleStartStrikesVector(builder, len(self.strikes))
                for i in reversed(range(len(self.strikes))):
                    builder.PrependFloat64(self.strikes[i])
                strikes = builder.EndVector()
        if self.vols is not None:
            if np is not None and type(self.vols) is np.ndarray:
                vols = builder.CreateNumpyVector(self.vols)
            else:
                VolSurfaceSampleStartVolsVector(builder, len(self.vols))
                for i in reversed(range(len(self.vols))):
                    builder.PrependFloat64(self.vols[i])
                vols = builder.EndVector()
        if self.atmLevels is not None:
            if np is not None and type(self.atmLevels) is np.ndarray:
                atmLevels = builder.CreateNumpyVector(self.atmLevels)
            else:
                VolSurfaceSampleStartAtmLevelsVector(builder, len(self.atmLevels))
                for i in reversed(range(len(self.atmLevels))):
                    builder.PrependFloat64(self.atmLevels[i])
                atmLevels = builder.EndVector()
        if self.error is not None:
            error = self.error.Pack(builder)
        VolSurfaceSampleStart(builder)
        if self.volId is not None:
            VolSurfaceSampleAddVolId(builder, volId)
        if self.referenceDate is not None:
            VolSurfaceSampleAddReferenceDate(builder, referenceDate)
        VolSurfaceSampleAddQlVolType(builder, self.qlVolType)
        VolSurfaceSampleAddRequestedStrikeAxis(builder, self.requestedStrikeAxis)
        VolSurfaceSampleAddCanonicalStrikeKind(builder, self.canonicalStrikeKind)
        VolSurfaceSampleAddAllowExtrapolationUsed(builder, self.allowExtrapolationUsed)
        VolSurfaceSampleAddCalendarUsed(builder, self.calendarUsed)
        VolSurfaceSampleAddBusinessDayConventionUsed(builder, self.businessDayConventionUsed)
        VolSurfaceSampleAddExpiryKind(builder, self.expiryKind)
        if self.expiries is not None:
            VolSurfaceSampleAddExpiries(builder, expiries)
        if self.requestedExpiryGridPoints is not None:
            VolSurfaceSampleAddRequestedExpiryGridPoints(builder, requestedExpiryGridPoints)
        if self.tenors is not None:
            VolSurfaceSampleAddTenors(builder, tenors)
        if self.effectiveSwapStarts is not None:
            VolSurfaceSampleAddEffectiveSwapStarts(builder, effectiveSwapStarts)
        if self.effectiveSwapEnds is not None:
            VolSurfaceSampleAddEffectiveSwapEnds(builder, effectiveSwapEnds)
        if self.strikes is not None:
            VolSurfaceSampleAddStrikes(builder, strikes)
        if self.vols is not None:
            VolSurfaceSampleAddVols(builder, vols)
        VolSurfaceSampleAddNExpiries(builder, self.nExpiries)
        VolSurfaceSampleAddNTenors(builder, self.nTenors)
        VolSurfaceSampleAddNStrikes(builder, self.nStrikes)
        if self.atmLevels is not None:
            VolSurfaceSampleAddAtmLevels(builder, atmLevels)
        if self.error is not None:
            VolSurfaceSampleAddError(builder, error)
        volSurfaceSample = VolSurfaceSampleEnd(builder)
        return volSurfaceSample
